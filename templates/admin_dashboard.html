{% extends "layout.html" %}

{% block content %}
<div class="container py-5">
    <h2>Admin Dashboard</h2>

    <h3 class="mt-4">Product Management</h3>
    <ul>
        <li><a href="{{ url_for('create_product') }}">Create a New Product</a></li>
        {% for product in products %}
            <li>
                {{ product.name }}
                - <a href="{{ url_for('edit_product', product_id=loop.index0) }}">Edit</a>
                -
                <form action="{{ url_for('delete_product', product_id=loop.index0) }}" method="post" style="display:inline;">
                    <button type="submit" class="btn btn-link text-danger p-0" onclick="return confirm('Are you sure you want to delete this product?');">
                        Delete
                    </button>
                </form>
            </li>
        {% endfor %}
    </ul>

    <h3 class="mt-4">User Management</h3>
    <ul>
        {% for username, user in users.items() %}
            <li>{{ username }} - Role: {{ user.role }}</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
